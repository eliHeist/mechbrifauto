<script>
	import Button from "$lib/components/ui/button/button.svelte";
    import { contactFormBoolean } from '$lib/stores/booleanStore';

    function toggleContactFormBoolean() {
        contactFormBoolean.update((value) => !value);
    }

    let nav_expanded = false;
    function toggleNav(){
        nav_expanded = !nav_expanded
    }
</script>
<!-- Navbar -->
<nav class="flex justify-between items-center p-6 bg-background breakout w-full">
	<div>
        <svg width="204" height="24" viewBox="0 0 204 24" fill="none">
            <path d="M120.099 2.00003H107.994C107.207 1.99959 106.427 2.14726 105.7 2.43459C104.972 2.72192 104.312 3.14327 103.755 3.67456C103.198 4.20585 102.757 4.83666 102.456 5.53091C102.155 6.22516 102 6.96923 102 7.72059V10.4915L107.666 10.5809V9.0837C107.662 8.49155 107.903 7.92178 108.338 7.49889C108.772 7.076 109.364 6.83436 109.984 6.82675H118.085C118.706 6.82846 119.3 7.06445 119.739 7.48314C120.178 7.90184 120.425 8.46922 120.427 9.06135V11.5418C120.429 11.5992 120.419 11.6565 120.398 11.7103C120.377 11.7641 120.345 11.8133 120.303 11.8549C120.262 11.8966 120.212 11.9299 120.157 11.9529C120.101 11.9759 120.042 11.988 119.982 11.9887H108.135C108.011 11.9883 107.892 11.9411 107.804 11.8574C107.716 11.7736 107.667 11.6602 107.666 11.5418L102 12.2345V21.5527C101.998 21.6102 102.008 21.6675 102.029 21.7213C102.05 21.7751 102.082 21.8243 102.124 21.8659C102.165 21.9076 102.215 21.9409 102.27 21.9639C102.326 21.9868 102.385 21.999 102.445 21.9997H107.151C107.211 22.002 107.271 21.9927 107.328 21.9725C107.384 21.9522 107.436 21.9214 107.479 21.8818C107.523 21.8422 107.558 21.7947 107.582 21.742C107.606 21.6893 107.619 21.6326 107.62 21.5751V17.307C107.62 17.1886 107.669 17.0751 107.757 16.9914C107.845 16.9076 107.964 16.8604 108.088 16.8601H119.911C120.029 16.8601 120.143 16.9048 120.226 16.9844C120.309 17.0641 120.356 17.1721 120.356 17.2847V21.5527C120.357 21.6712 120.406 21.7846 120.494 21.8684C120.582 21.9521 120.701 21.9993 120.825 21.9997H125.531C125.591 22.002 125.651 21.9927 125.707 21.9725C125.764 21.9522 125.815 21.9214 125.859 21.8818C125.902 21.8422 125.937 21.7947 125.961 21.742C125.986 21.6893 125.998 21.6326 125.999 21.5751V7.72059C126.014 6.97297 125.872 6.23003 125.582 5.53539C125.292 4.84076 124.86 4.20843 124.31 3.67554C123.76 3.14265 123.105 2.71993 122.382 2.4322C121.658 2.14447 120.882 1.99754 120.099 2.00003ZM102 11.1619V11.5418L104.646 11.2066L102 11.1619Z" fill="white"/>
            <path d="M150.529 2H146.033C145.965 2 145.921 2.02235 145.854 2.02235C145.773 2.06222 145.703 2.12223 145.652 2.19659C145.602 2.27096 145.571 2.35717 145.563 2.44693V15.3408C145.525 15.867 145.289 16.3595 144.904 16.7199C144.518 17.0803 144.01 17.2821 143.482 17.2849H135.451C134.921 17.286 134.412 17.0856 134.025 16.7244C133.638 16.3632 133.404 15.8684 133.37 15.3408V2.44693C133.37 2.35521 133.342 2.26573 133.29 2.19003C133.238 2.11434 133.165 2.05593 133.079 2.02235C133.012 2.02235 132.967 2 132.9 2H128.426C128.314 2.00373 128.208 2.04967 128.13 2.1285C128.051 2.20733 128.005 2.31316 128.001 2.42458V16.6145C127.997 16.6897 128.005 16.765 128.023 16.838C128.119 17.8791 128.503 18.8731 129.131 19.7095C129.759 20.5459 130.607 21.1918 131.58 21.5754C132.263 21.8511 132.992 21.9952 133.728 22H145.294C146.023 21.9929 146.744 21.8489 147.42 21.5754C148.391 21.1881 149.236 20.5411 149.864 19.7055C150.491 18.8698 150.876 17.8777 150.977 16.838C150.995 16.765 151.003 16.6897 150.999 16.6145V2.42458C150.982 2.31057 150.926 2.20604 150.84 2.12868C150.754 2.05131 150.645 2.00585 150.529 2Z" fill="white"/>
            <path d="M176.565 2H155.435C155.376 2.00064 155.318 2.01286 155.264 2.03594C155.21 2.05901 155.161 2.09246 155.121 2.13432C155.08 2.17618 155.049 2.22559 155.028 2.27963C155.007 2.33367 154.998 2.39124 155 2.44893V6.35458C155.001 6.47353 155.049 6.58751 155.135 6.67163C155.22 6.75574 155.337 6.80315 155.458 6.80351H162.799C162.919 6.80764 163.032 6.85626 163.117 6.93957C163.202 7.02288 163.252 7.13468 163.256 7.25243V21.5507C163.254 21.6084 163.263 21.666 163.284 21.72C163.304 21.7741 163.336 21.8235 163.377 21.8653C163.417 21.9072 163.466 21.9406 163.52 21.9637C163.574 21.9868 163.632 21.999 163.69 21.9997H168.31C168.369 22.002 168.427 21.9927 168.482 21.9724C168.537 21.952 168.588 21.9211 168.63 21.8813C168.673 21.8415 168.707 21.7938 168.731 21.7408C168.754 21.6879 168.767 21.6309 168.767 21.5732V7.27488C168.765 7.21719 168.774 7.15962 168.795 7.10558C168.816 7.05155 168.847 7.00213 168.888 6.96027C168.928 6.91842 168.977 6.88496 169.031 6.86189C169.085 6.83882 169.143 6.8266 169.202 6.82595H176.543C176.664 6.8256 176.78 6.77819 176.866 6.69407C176.951 6.60996 177 6.49598 177 6.37703V2.47137C177.002 2.35342 176.958 2.2392 176.877 2.15173C176.797 2.06426 176.685 2.01004 176.565 2Z" fill="white"/>
            <path d="M200.401 2.40182C199.726 2.13371 199.005 1.99732 198.278 2.00004H186.722C185.988 1.99938 185.26 2.13564 184.576 2.40182C183.518 2.83136 182.613 3.56637 181.976 4.51277C181.339 5.45918 180.999 6.57392 181 7.7143V16.2857C181.002 17.4254 181.343 18.5388 181.98 19.4846C182.617 20.4305 183.52 21.1661 184.576 21.5982C185.26 21.8644 185.988 22.0006 186.722 22H198.278C199.03 22.0025 199.775 21.8564 200.471 21.5702C201.166 21.2839 201.798 20.8631 202.33 20.332C202.862 19.8008 203.283 19.1699 203.57 18.4755C203.856 17.781 204.003 17.0368 204 16.2857V7.7143C203.999 6.57128 203.656 5.45456 203.015 4.50782C202.374 3.56107 201.464 2.82762 200.401 2.40182ZM198.613 15.3036C198.569 15.8346 198.325 16.3295 197.932 16.6894C197.538 17.0493 197.023 17.2479 196.49 17.2455H188.488C187.955 17.2442 187.442 17.0444 187.05 16.6852C186.657 16.326 186.412 15.8333 186.364 15.3036V8.76341C186.409 8.23234 186.652 7.73751 187.046 7.37759C187.439 7.01767 187.954 6.81909 188.488 6.82145H196.49C197.021 6.82633 197.532 7.02738 197.924 7.3859C198.316 7.74442 198.562 8.23507 198.613 8.76341V15.3036Z" fill="white"/>
            <path d="M29.5451 2.00211H25.2919C25.1407 1.9911 24.9895 2.02336 24.8564 2.09502C24.7232 2.16667 24.6139 2.27468 24.5414 2.40611L14.8978 13.8527C14.8801 13.8824 14.8566 13.9083 14.8286 13.929C14.8007 13.9496 14.7688 13.9645 14.735 13.9729C14.7011 13.9813 14.6658 13.9829 14.6313 13.9777C14.5968 13.9724 14.5637 13.9605 14.5339 13.9425C14.4933 13.9248 14.4608 13.8928 14.4429 13.8527L5.48171 2.40611C5.40346 2.27976 5.29293 2.17594 5.1612 2.10503C5.02947 2.03412 4.88116 1.99863 4.73115 2.00211H0.455237C0.334704 2.00246 0.219211 2.04987 0.133982 2.13398C0.048752 2.21808 0.000711875 2.33205 0.000351896 2.45099V21.5287C-0.00199427 21.5864 0.0074099 21.6439 0.0280091 21.698C0.0486084 21.752 0.079984 21.8014 0.120277 21.8433C0.160571 21.8851 0.208964 21.9186 0.262592 21.9416C0.31622 21.9647 0.373993 21.9769 0.432492 21.9776H5.02683C5.14144 21.9776 5.25136 21.9326 5.3324 21.8527C5.41344 21.7727 5.45897 21.6642 5.45897 21.5511V11.3614L11.6454 19.576C11.7688 19.7625 11.9374 19.9156 12.1361 20.0215C12.3347 20.1273 12.5569 20.1825 12.7826 20.182H16.4899C16.7156 20.1825 16.9379 20.1273 17.1365 20.0215C17.3351 19.9156 17.5037 19.7625 17.6271 19.576L24.5414 11.3614V21.5511C24.539 21.6088 24.5484 21.6664 24.569 21.7204C24.5896 21.7744 24.621 21.8238 24.6613 21.8657C24.7016 21.9076 24.75 21.941 24.8036 21.9641C24.8573 21.9871 24.915 21.9994 24.9735 22H29.5451C29.6656 21.9996 29.7811 21.9522 29.8664 21.8681C29.9516 21.784 29.9996 21.6701 30 21.5511V2.45099C29.9921 2.33452 29.9416 2.22484 29.8579 2.14229C29.7743 2.05975 29.6631 2.00994 29.5451 2.00211Z" fill="#EC2227"/>
            <path d="M53.5546 9.13004L54.6956 9.17489V9.13004H53.5546ZM53.9125 11.1031C54.1602 10.7118 54.3557 10.2897 54.4942 9.84753L48.2522 9.53363C47.9629 9.57092 47.6712 9.58591 47.3796 9.57847H39.7057C39.5965 9.57382 39.4934 9.52675 39.4182 9.44723C39.3431 9.36771 39.3017 9.26199 39.303 9.15246V7.24663C39.3007 7.13459 39.341 7.02586 39.4158 6.94256C39.4906 6.85926 39.5943 6.80764 39.7057 6.7982H47.3349C48.364 6.7982 49.3932 6.82063 49.3932 8.23318V8.43498H54.7851C54.8041 8.24128 54.8116 8.04661 54.8075 7.85202V7.73991C54.8075 4.57848 52.4807 2 49.6393 2H34.4033C34.3475 2.00287 34.2927 2.01675 34.2423 2.04086C34.1918 2.06496 34.1465 2.09881 34.1091 2.14047C34.0717 2.18212 34.0429 2.23077 34.0243 2.28361C34.0056 2.33646 33.9976 2.39247 34.0006 2.44843V21.5516C33.9983 21.6092 34.0076 21.6667 34.0278 21.7207C34.0481 21.7747 34.079 21.824 34.1186 21.8658C34.1582 21.9076 34.2058 21.9411 34.2586 21.9641C34.3113 21.9872 34.3682 21.9994 34.4257 22H51.2725C52.7895 21.9933 54.2424 21.3864 55.315 20.3114C56.3877 19.2364 56.9933 17.7803 57 16.2601V16.148C56.996 15.1043 56.706 14.0818 56.1615 13.1921C55.617 12.3024 54.839 11.5798 53.9125 11.1031ZM49.5498 17.1569H48.7444L39.7505 17.1794C39.693 17.1817 39.6356 17.1724 39.5817 17.1521C39.5279 17.1318 39.4786 17.1009 39.4369 17.0611C39.3952 17.0214 39.3618 16.9737 39.3388 16.9208C39.3158 16.868 39.3036 16.811 39.303 16.7534V14.8027C39.3079 14.6874 39.3573 14.5785 39.4408 14.4991C39.5243 14.4196 39.6353 14.3757 39.7505 14.3767C39.9742 14.3767 49.9525 14.3767 50.1986 14.3991C50.8027 14.4215 51.3396 14.6009 51.5186 15.2063C51.5827 15.3937 51.613 15.5911 51.6081 15.7892C51.6081 17.1345 50.579 17.1569 49.5498 17.1569Z" fill="#EC2227"/>
            <path d="M82.5644 2.0001H61.4117C61.2979 2.0099 61.1922 2.06162 61.1158 2.14484C61.0394 2.22806 60.9981 2.33659 61.0001 2.44853V8.41262H66.4883V7.29155C66.4922 7.17976 66.5392 7.07357 66.6198 6.99447C66.7005 6.91538 66.8088 6.8693 66.9228 6.86555H82.5415C82.6627 6.86519 82.7788 6.81783 82.8645 6.73381C82.9502 6.64979 82.9985 6.53594 82.9989 6.41712V2.44853C83.0032 2.39045 82.9951 2.33212 82.9751 2.27728C82.9551 2.22244 82.9237 2.1723 82.8828 2.13008C82.8419 2.08786 82.7924 2.05449 82.7376 2.0321C82.6828 2.00972 82.6238 1.99882 82.5644 2.0001ZM79.523 9.57854H66.9457C66.8317 9.57479 66.7234 9.52871 66.6427 9.44961C66.562 9.37052 66.515 9.26432 66.5112 9.15253V9.10769H61.0229V9.44401L79.9803 10.3409V10.0045C79.9713 9.89065 79.9196 9.78408 79.8351 9.7054C79.7506 9.62672 79.6394 9.58152 79.523 9.57854ZM61.0001 10.1391V21.5516C61.0004 21.6704 61.0487 21.7843 61.1344 21.8683C61.2201 21.9523 61.3362 21.9996 61.4574 22H66.0538C66.1714 21.9951 66.2825 21.9455 66.3635 21.8619C66.4446 21.7782 66.4893 21.667 66.4883 21.5516V14.9148C66.4934 14.7995 66.5439 14.6907 66.6292 14.6112C66.7145 14.5317 66.828 14.4879 66.9457 14.4888H79.5001C79.6177 14.4839 79.7287 14.4344 79.8098 14.3507C79.8908 14.267 79.9356 14.1558 79.9346 14.0404V11.0359L61.0001 10.1391Z" fill="#EC2227"/>
            <path d="M105 10.0814L102.457 10.3992L97.6403 11.035L94.5119 17.3472L92.5313 8.28761L85.1266 24L85.1041 9.49101L79.8151 9.21854L61.1571 8.31031L55.1478 8.01514L54 7.96973H86.8372L86.9497 17.3245L93.7917 0L95.0296 13.7143L97.2802 9.94513L102.457 10.0359L105 10.0814Z" fill="#EC2227"/>
        </svg>
    </div>
	<div class="space-x-6 hidden md:flex">
		<a href="/" class="hover:text-accent">Home</a>
		<a href="/services/" class="hover:text-accent">Services</a>
		<a href="/about/" class="hover:text-accent">About Us</a>
	</div>
	<div class="hidden sm:block">
		<Button on:click={toggleContactFormBoolean}>Get in touch</Button>
	</div>
    <div class="md:hidden z-10">
        <button title="Menu button" class="hamburger-btn" aria-expanded={nav_expanded} on:click={toggleNav}>
            <svg class="hamburger w-10" fill="none" viewbox="-10 -10 120 120">
                <path class="line" d="m 20 40 h 60 a 1 1 0 0 1 0 20 h -60 a 1 1 0 0 1 0 -40 h 30 v 70"></path>
            </svg>
        </button>
    </div>
    <div class="sm-menu" class:collapse={!nav_expanded}>
    
        <ul class="grid my-auto gap-4">
            <li>
                <a on:click={toggleNav} href="/">Home</a>
            </li>
            <li>
                <a on:click={toggleNav} href="/services/">Services</a>
            </li>
            <li>
                <a on:click={toggleNav} href="/about/">About</a>
            </li>
            <li>
                <button on:click={toggleContactFormBoolean}>Get in touch</button>
            </li>
        </ul>
    </div>
</nav>


<style lang="scss">
    .hamburger-btn{
        z-index: 2;
        
        svg{
            @apply stroke-primary stroke-[10];
            stroke-linecap: round;
            stroke-linejoin: round;
            transition: translate .5s, rotate .5s;
        }
        .line{
            stroke-dasharray: 60 31 60 300;
            transition: .5s;
        }
        &[aria-expanded="true"] .hamburger{
            translate: 2px -3px;
            rotate: .125turn;
        }
        &[aria-expanded="true"] .line{
            stroke-dasharray: 60 105 60 300;
            stroke-dashoffset: -90;
        }
    }

    .sm-menu{
        @apply bg-dark-3;
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        padding: 2rem;
        display: grid;
        z-index: 0;
        width: fit-content;
        min-width: 15rem;
        box-shadow: -1rem 0 1rem rgba(14, 1, 1, 0.6);
        transform: translateX(0);
        transition: all 300ms ease-in-out;

        &.collapse{
            transform: translateX(100%);
        }
    }
</style>
